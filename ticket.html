<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Bus Ticket Confirmation</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div class="container">
		<h1>Ticket Confirmation</h1>
		<div id="ticketDetails" class="ticket">
			<p><strong>Ticket Number:</strong> <span id="ticketNumber"></span></p>
			<p><strong>From:</strong> <span id="fromLocation"></span></p>
			<p><strong>To:</strong> <span id="toLocation"></span></p>
			<p><strong>Date:</strong> <span id="travelDate"></span></p>
			<p><strong>Number of Seats:</strong> <span id="numberOfSeats"></span></p>
			<p><strong>Payment (Card Number):</strong> <span id="cardDetails"></span></p>
		</div>
		<div class="actions">
			<button onclick="downloadTicket()">Download Ticket</button>
			<button onclick="shareOnWhatsApp()">Send via WhatsApp</button>
			<button onclick="window.location.href='index.html'">Back to Home</button>
		</div>
	</div>

	<script>
		const ticketNumber = localStorage.getItem("ticketNumber");
		const from = localStorage.getItem("from");
		const to = localStorage.getItem("to");
		const date = localStorage.getItem("date");
		const seats = localStorage.getItem("seats");
		const cardNumber = localStorage.getItem("cardNumber");
		const phone = localStorage.getItem("phone");
		document.getElementById("ticketNumber").textContent = ticketNumber;
		document.getElementById("fromLocation").textContent = from;
		document.getElementById("toLocation").textContent = to;
		document.getElementById("travelDate").textContent = date;
		document.getElementById("numberOfSeats").textContent = seats;
		document.getElementById("cardDetails").textContent = "**** **** **** " + cardNumber;

		
		function downloadTicket() {
			const ticketContent = `
üöç Bus Ticket Details üöç
Ticket Number: ${ticketNumber}
From: ${from}
To: ${to}
Date: ${date}
Seats: ${seats}
Payment (Card Number): **** **** **** ${cardNumber}
`;

			const blob = new Blob([ticketContent], { type: "text/plain" });
			const link = document.createElement("a");
			link.href = URL.createObjectURL(blob);
			link.download = `Ticket_${ticketNumber}.txt`;
			link.click();
		}

		
		function shareOnWhatsApp() {
			const whatsappMessage = `
üöç *Bus Ticket Details* üöç
*Ticket Number:* ${ticketNumber}
*From:* ${from}
*To:* ${to}
*Date:* ${date}
*Seats:* ${seats}
*Payment (Card Number):* **** **** **** ${cardNumber}

Thank you for booking with us!
			`;

			
			const whatsappURL = `https://wa.me/${phone}?text=${encodeURIComponent(whatsappMessage)}`;
			window.open(whatsappURL, "_blank");
		}
	</script>
</body>
</html>
